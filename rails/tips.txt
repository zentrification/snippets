------------------------------------------------------------
Activerecord
------------------------------------------------------------
class Activity < ActiveRecord::Base
  # Returns all the accounts that have unread messages.
  def self.with_unread_messages
    joins(:messages).merge( Message.unread )
  end


published = Activity.published.select(:title).map(&:title)
or
published = Activity.published.pluck(:title)

------------------------------------------------------------
Rails 3.2
------------------------------------------------------------

content_tag_for(:li, @posts) do |post|
  ...
end


# partial paths
class Activity < ActiveRecord::Base
  def to_partial_path() "activities/#{kind}" end
